/*
 * API_debounce.c
 *
 *  Created on: Nov 11, 2021
 *      Author: Luis David Díaz Charris
 */

#include "API_debounce.h"


void buttonPressed(void);
void buttonReleased(void);

static debounce_t debounceState;
static delay_t delay;

#define DEALAY_TIME 40

//PORT: debe cer un puerto GPIO válido ej: GPIOA o GPIOB.
//PIN: debe ser un pin válido ej: GPIO_PIN_1 o GPIO_PIN_15
//PULL_MODE: GPIO_PULLDOWN (cuando el botón físcamente está conectado con una resistencia Pull-Up)
//PULL_MODE: GPIO_PULLUP (cuando el botón físcamente está conectado con una resistencia Pull-Down)
//PULL_MODE: GPIO_NOPULL
bool_t debounceInit(PORT, PIN, PULL_MODE){
	debounceState = BUTTON_UP;
	delayInit(&delay, DELAY_TIME);
	//Configuración del pin que recibe
	GPIO_InitStruct.Pin = PIN;
	GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
	GPIO_InitStruct.Pull = PULL_MODE;
	HAL_GPIO_Init(PORT, &GPIO_InitStruct);
	return true;
}


